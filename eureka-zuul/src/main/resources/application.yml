server:
  port: 8764
spring:
  application:
    name: service-zuul
  redis:
    database: 0
    host: localhost
    port: 6379
    password:
    timeout: 20000

myeureka:
  server:
    localhost
  port:
    8761

eureka:
  instance:
    preferIpAddress: true
    instance-id: ${spring.cloud.client.ip-address}:${server.port}
  client:
    serviceUrl:
      defaultZone: http://${myeureka.server}:${myeureka.port}/eureka/
    register-with-eureka: true
    fetch-registry: true


zuul:
  routes:
    cunsumer:
      serviceId: cunsumer
      path: /zhuchaoyang/**
    login:
      serviceId: login
      path: /login/**
  ignored-services: "*"

  ratelimit:
    enabled: true
    repository: IN_MEMORY
    policies:
      # 下述的配置表示：在一个窗口期60秒中允许按照IP进行限流，可以接受100次请求，并且100次请求的总时间不能超过1000秒
      cunsumer:
        limit: 100
        quota: 1000           # 当前单位为秒
        refresh-interval: 60  # 当前单位为秒
        type:
        - ORIGIN
  retryable: true

# 重试次数：
# MaxAutoRetries表示访问服务集群下原节点（同路径访问）其中重试次数不包括首次；
# MaxAutoRetriesNextServer表示访问服务集群下其余节点（换台服务器）
# 因为没有配置服务提供者集群，因此这里只针对自己服务进行三次重试
ribbon:
  MaxAutoRetries: 3
  MaxAutoRetriesNextServer: 0

# hystrix超时时间设置  该节点待测试
# 线程池隔离，默认超时时间1000ms
hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 8000